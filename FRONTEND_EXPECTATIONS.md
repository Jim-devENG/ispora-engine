# Frontend Expectations & Requirements

This document outlines all the expectations, data structures, API contracts, and integrations that the frontend application requires.

## Table of Contents
1. [Data Structures & Interfaces](#data-structures--interfaces)
2. [API Endpoints Expected](#api-endpoints-expected)
3. [Local Storage Usage](#local-storage-usage)
4. [External Services & Integrations](#external-services--integrations)
5. [File Upload Requirements](#file-upload-requirements)
6. [Authentication & Session Management](#authentication--session-management)
7. [Real-time Features](#real-time-features)
8. [Configuration & Environment Variables](#configuration--environment-variables)

---

## Data Structures & Interfaces

### User Profile (`UserProfile`)
**Location:** `components/ProfileContext.tsx`

```typescript
interface UserProfile {
  id: string;
  firstName: string;
  lastName: string;
  name: string; // Computed from firstName + lastName
  email: string;
  phone: string;
  bio: string;
  location: string;
  company: string;
  position: string;
  title: string; // Same as position
  website: string;
  linkedIn: string;
  twitter?: string;
  avatar?: string;
  
  // Professional details
  university: string;
  graduationYear: string;
  program: string;
  skills: string[];
  expertise: string[];
  role: 'mentor' | 'professional' | 'alumni' | 'student' | 'researcher' | 'entrepreneur';
  experience: number; // years of experience
  
  // Network details
  isVerified: boolean;
  isOnline: boolean;
  lastActive: string;
  interests: string[];
  mutualConnections: number;
  responseRate: number;
  
  // Diaspora status
  isDiaspora: boolean;
  diasporaLocation?: string;
  homeCountry?: string;
  
  // Availability and preferences
  availability: {
    mentoring: boolean;
    collaboration: boolean;
    consultation: boolean;
    volunteering?: boolean;
    speaking?: boolean;
    advising?: boolean;
  };
  openTo: string[];
  
  // Social links
  socialLinks: {
    linkedin?: string;
    twitter?: string;
    email?: string;
    website?: string;
  };
  
  // Achievements
  achievements: {
    title: string;
    description: string;
    date: string;
  }[];
  
  // University connections
  universities: {
    name: string;
    role: string;
    isVerified: boolean;
  }[];
  
  // Privacy settings
  privacy: {
    profileVisibility: 'public' | 'alumni' | 'private';
    contactVisibility: 'public' | 'alumni' | 'private';
    professionalVisibility: 'public' | 'alumni' | 'private';
  };
  
  // Preferences
  preferences: {
    language: string;
    timezone: string;
    theme: 'light' | 'dark' | 'system';
  };
}
```

### Feed Item (`FeedItem`)
**Location:** `components/FeedService.tsx`

```typescript
interface FeedItem {
  id: string;
  type: 'project' | 'campaign' | 'opportunity' | 'milestone' | 'success_story' | 
        'funding_success' | 'live_event' | 'workroom_live' | 'project_closing' | 
        'admin_highlight' | 'achievement' | 'certification' | 'collaboration';
  title: string;
  description?: string;
  timestamp: string;
  likes: number;
  location: string;
  category: string;
  urgent?: boolean;
  deadline?: string;
  isLive?: boolean;
  isPinned?: boolean;
  isAdminCurated?: boolean;
  authorId: string;
  authorName: string;
  authorAvatar?: string;
  projectId?: string;
  campaignId?: string;
  opportunityId?: string;
  metadata?: Record<string, any>;
  visibility: 'public' | 'authenticated' | 'private';
  significance: 'low' | 'medium' | 'high' | 'critical';
  isAutoGenerated?: boolean;
}
```

### User Action (`UserAction`)
**Location:** `components/FeedService.tsx`

```typescript
interface UserAction {
  id: string;
  userId: string;
  userName: string;
  userAvatar?: string;
  userLocation?: string;
  actionType: 'project_created' | 'project_joined' | 'project_completed' | 
              'campaign_launched' | 'campaign_joined' | 'milestone_achieved' | 
              'opportunity_posted' | 'opportunity_applied' | 'funding_received' | 
              'session_started' | 'session_completed' | 'certification_earned' | 
              'achievement_unlocked' | 'collaboration_started' | 'mentor_match' | 
              'workspace_created';
  entityId: string;
  entityType: 'project' | 'campaign' | 'opportunity' | 'session' | 
              'certification' | 'achievement' | 'workspace' | 'collaboration';
  entityTitle: string;
  entityCategory: string;
  timestamp: string;
  metadata?: Record<string, any>;
  visibility?: 'public' | 'authenticated' | 'private';
}
```

### Admin Highlight (`AdminHighlight`)
**Location:** `components/FeedService.tsx`

```typescript
interface AdminHighlight {
  id: string;
  type: 'top_mentor' | 'spotlighted_opportunity' | 'impact_stat' | 
        'featured_project' | 'announcement' | 'success_spotlight' | 
        'community_milestone';
  title: string;
  description: string;
  image?: string;
  ctaText?: string;
  ctaLink?: string;
  isPinned: boolean;
  expiresAt?: string;
  createdBy: string;
  createdAt: string;
  visibility: 'public' | 'authenticated';
  projectId?: string;
  opportunityId?: string;
}
```

### Opportunity (`Opportunity`)
**Location:** `components/OpportunitiesPage.tsx`

```typescript
interface Opportunity {
  id: string;
  title: string;
  type: 'scholarship' | 'job' | 'internship' | 'fellowship' | 'accelerator' | 
        'grant' | 'event' | 'community' | 'others';
  company: string;
  location: string;
  remote: boolean;
  description: string;
  requirements?: string[];
  benefits?: string[];
  amount?: {
    value: number;
    currency: string;
    type: 'salary' | 'stipend' | 'award' | 'funding';
  };
  duration?: string;
  commitment?: string;
  postedBy: {
    name: string;
    title: string;
    company: string;
    avatar?: string;
    isVerified: boolean;
  };
  university?: string;
  tags: string[];
  applicants: number;
  deadline?: string;
  eventDate?: string;
  postedDate: string;
  featured: boolean;
  urgent: boolean;
  boost: number;
  saved: boolean;
  applied: boolean;
  experienceLevel: 'entry' | 'mid' | 'senior' | 'any';
  category: string;
  eligibility?: string[];
  applicationLink?: string;
  comments: number;
  fullDescription?: string;
  applicationProcess?: string[];
  contactInfo?: {
    email?: string;
    phone?: string;
    website?: string;
  };
}
```

### Network User (`NetworkUser`)
**Location:** `components/MyNetwork.tsx`

```typescript
interface NetworkUser {
  id: string;
  name: string;
  avatar?: string;
  title: string;
  company: string;
  location: string;
  university: string;
  graduationYear: string;
  program: string;
  bio: string;
  skills: string[];
  expertise: string[];
  role: 'mentor' | 'professional' | 'alumni' | 'student' | 'researcher' | 'entrepreneur';
  experience: number; // years
  connectionStatus: 'none' | 'pending_sent' | 'pending_received' | 'connected';
  mutualConnections: number;
  responseRate: number;
  isVerified: boolean;
  isOnline: boolean;
  lastActive: string;
  interests: string[];
  socialLinks?: {
    linkedin?: string;
    twitter?: string;
    email?: string;
  };
  achievements?: {
    title: string;
    description: string;
    date: string;
  }[];
  availability?: {
    mentoring: boolean;
    collaboration: boolean;
    consultation: boolean;
    volunteering?: boolean;
    speaking?: boolean;
    advising?: boolean;
  };
  openTo?: string[];
}
```

### Connection Request (`ConnectionRequest`)
**Location:** `components/MyNetwork.tsx`

```typescript
interface ConnectionRequest {
  id: string;
  fromUserId: string;
  fromUserName: string;
  fromUserAvatar?: string;
  fromUserTitle: string;
  fromUserCompany: string;
  purpose: string;
  message: string;
  timestamp: string;
  status: 'pending' | 'accepted' | 'declined';
}
```

### Project Data Structure
**Location:** `components/FeedService.tsx` (realProjects), `components/CreateProject.tsx`

**Expected Project Fields:**
```typescript
interface Project {
  id: string;
  title: string;
  description: string;
  status: 'active' | 'still-open' | 'closed';
  startDate: string; // ISO date string
  deadline?: string; // ISO date string
  closedDate?: string; // ISO date string (if closed)
  category: string;
  aspiraCategory: 'mentorships' | 'university-campaigns' | 'community-service' | 'research';
  tags: string[];
  team: Array<{
    id: string;
    name: string;
    role: string;
    avatar?: string;
  }>;
  university: string;
  location: string;
  authorId: string;
  authorName: string;
  // Additional fields from CreateProject
  projectType?: 'mentorship' | 'academic' | 'career' | 'community' | 'collaboration';
  priority?: 'low' | 'medium' | 'high';
  mentorshipConnection?: boolean;
  isPublic?: boolean;
  teamMembers?: TeamMember[];
  diasporaPositions?: DiasporaPosition[];
  progress?: number;
  metrics?: {
    tasksCompleted: number;
    totalTasks: number;
    milestonesHit: number;
    totalMilestones: number;
    participantsReached: number;
    impactScore: number;
  };
}
```

### Task (`Task`)
**Location:** `components/ProjectDetail.tsx`

```typescript
interface Task {
  id: string;
  title: string;
  description: string;
  status: 'todo' | 'in-progress' | 'completed';
  priority: 'low' | 'medium' | 'high';
  assignee: string;
  dueDate: string;
  milestone?: string;
  source: string;
  lastUpdated: string;
}
```

### Milestone (`Milestone`)
**Location:** `components/ProjectDetail.tsx`

```typescript
interface Milestone {
  id: string;
  title: string;
  description: string;
  dueDate: string;
  status: 'upcoming' | 'in-progress' | 'completed';
  progress: number;
  tasks: string[]; // Array of task IDs
  source: string;
  lastUpdated: string;
}
```

### Campaign Form Data (`CampaignFormData`)
**Location:** `components/CreateCampaign.tsx`

```typescript
interface CampaignFormData {
  title: string;
  description: string;
  type: 'mentorship' | 'project' | 'scholarship' | 'research' | '';
  almaMater: string;
  category: string;
  participantGoal: number;
  fundingGoal: number;
  endDate: string;
  location: string;
  isRemote: boolean;
  mentorshipFocus: string;
  skillsRequired: string[];
  timeCommitment: string;
  tags: string[];
  requirements: string;
  benefits: string;
  resources: string;
}
```

### Project Member (`ProjectMember`)
**Location:** Multiple files (workspace components)

```typescript
interface ProjectMember {
  id: string;
  name: string;
  email: string; // Required in ProjectMemberModal
  avatar?: string;
  role: 'owner' | 'admin' | 'mentor' | 'student' | 'collaborator' | 'viewer' | 
        'mentee' | 'participant' | 'leader' | 'researcher';
  status: 'active' | 'pending' | 'inactive' | 'completed' | 'paused';
  joinedDate: string;
  lastActive: string;
  skills?: string[];
  university?: string;
  program?: string;
  year?: string;
  isOnline?: boolean;
  tasksCompleted?: number;
  contributionScore?: number;
  projectsInvolved?: number;
  progress?: number;
}
```

### Mentee (`Mentee`)
**Location:** `components/MentorshipWorkspace.tsx`, `components/workspace/WorkspaceCalendar.tsx`

```typescript
interface Mentee {
  id: string;
  name: string;
  avatar?: string;
  university: string;
  program: string;
  year: string;
  status: 'active' | 'paused' | 'completed';
  progress: number;
  isOnline?: boolean;
  nextSession?: Date;
  totalSessions: number;
  completedSessions: number;
  completedTasks: number;
  totalTasks: number;
  totalDeliverables: number;
  submittedDeliverables: number;
  certificatesEarned: number;
}
```

---

## API Endpoints Expected

The frontend currently uses mock data and localStorage, but expects the following API endpoints to be implemented:

### User & Profile APIs

#### `GET /api/user/profile`
**Expected Response:** `UserProfile` object
**Usage:** Load current user's profile
**Location:** `components/ProfileContext.tsx` (line 243-255)

#### `PUT /api/user/profile`
**Expected Request Body:** `Partial<UserProfile>`
**Expected Response:** `UserProfile` object
**Usage:** Update user profile
**Location:** `components/ProfileContext.tsx` (line 243-255)
**Note:** Currently simulated with 500ms delay

#### `GET /api/user/:userId`
**Expected Response:** `NetworkUser` object
**Usage:** Fetch another user's profile
**Location:** `components/UserProfile.tsx` (line 266-267)

### Feed & Activity APIs

#### `GET /api/feed`
**Query Parameters:**
- `type?: 'project' | 'campaign' | 'opportunity' | 'all'`
- `category?: string`
- `limit?: number`
- `offset?: number`
- `sort?: 'recent' | 'trending' | 'significance'`

**Expected Response:** `{ items: FeedItem[], total: number }`
**Usage:** Fetch feed items
**Location:** `components/FeedService.tsx` (line 1175-1183)

#### `POST /api/feed/actions`
**Expected Request Body:** `Omit<UserAction, 'id' | 'timestamp'>`
**Expected Response:** `UserAction` object
**Usage:** Record user actions that generate feed items
**Location:** `components/FeedService.tsx` (line 1185-1193)

#### `POST /api/feed/admin/highlights`
**Expected Request Body:** `Omit<AdminHighlight, 'id' | 'createdAt'>`
**Expected Response:** `AdminHighlight` object
**Usage:** Create admin-curated highlights
**Location:** `components/FeedService.tsx` (line 1195-1197)

#### `GET /api/feed/stats`
**Expected Response:** Feed statistics object
**Usage:** Get feed statistics
**Location:** `components/FeedService.tsx` (line 1199-1201)

### Project APIs

#### `GET /api/projects`
**Query Parameters:**
- `status?: 'active' | 'still-open' | 'closed'`
- `category?: string`
- `university?: string`
- `search?: string`

**Expected Response:** `Project[]`
**Usage:** List all projects
**Location:** `components/FeedService.tsx` (realProjects array)

#### `GET /api/projects/:projectId`
**Expected Response:** `Project` object with full details
**Usage:** Get project details
**Location:** `components/ProjectDetail.tsx` (line 816)

#### `POST /api/projects`
**Expected Request Body:** Project creation data (from `CreateProject.tsx`)
**Expected Response:** `Project` object
**Usage:** Create new project
**Location:** `components/CreateProject.tsx`

#### `POST /api/projects/:projectId/join`
**Expected Request Body:** `{ role: string, area: string }`
**Expected Response:** Success status
**Usage:** Join a project
**Location:** `components/ProjectDetail.tsx` (JoinProjectDialog)

#### `GET /api/projects/:projectId/workspace`
**Expected Response:** `{ tasks: Task[], milestones: Milestone[] }`
**Usage:** Fetch workspace data (tasks and milestones)
**Location:** `components/ProjectDetail.tsx` (line 816)
**Note:** Currently simulated with API delay comment

### Opportunity APIs

#### `GET /api/opportunities`
**Query Parameters:**
- `type?: string`
- `category?: string`
- `location?: string`
- `remote?: boolean`
- `search?: string`

**Expected Response:** `Opportunity[]`
**Usage:** List opportunities
**Location:** `components/OpportunitiesPage.tsx`

#### `POST /api/opportunities/:opportunityId/apply`
**Expected Response:** Success status
**Usage:** Apply to an opportunity
**Location:** `components/OpportunitiesPage.tsx`

#### `POST /api/opportunities/:opportunityId/save`
**Expected Response:** Success status
**Usage:** Save/bookmark an opportunity
**Location:** `components/OpportunitiesPage.tsx`

### Network & Connections APIs

#### `GET /api/network/users`
**Query Parameters:**
- `search?: string`
- `university?: string`
- `role?: string`
- `connectionStatus?: string`

**Expected Response:** `NetworkUser[]`
**Usage:** Search and filter network users
**Location:** `components/MyNetwork.tsx`

#### `POST /api/network/connect`
**Expected Request Body:** `{ userId: string, purpose: string, message: string }`
**Expected Response:** `ConnectionRequest` object
**Usage:** Send connection request
**Location:** `components/MyNetwork.tsx` (line 1290-1293)

#### `GET /api/network/requests`
**Expected Response:** `ConnectionRequest[]`
**Usage:** Get pending connection requests
**Location:** `components/MyNetwork.tsx` (line 1268)

#### `POST /api/network/requests/:requestId/accept`
**Expected Response:** Success status
**Usage:** Accept connection request
**Location:** `components/MyNetwork.tsx` (line 1314-1317)

#### `POST /api/network/requests/:requestId/decline`
**Expected Response:** Success status
**Usage:** Decline connection request
**Location:** `components/MyNetwork.tsx`

### Campaign APIs

#### `GET /api/campaigns`
**Query Parameters:**
- `type?: string`
- `university?: string`
- `status?: string`

**Expected Response:** Campaign array
**Usage:** List campaigns
**Location:** `components/AlmaMater.tsx`, `components/CampaignDetail.tsx`

#### `POST /api/campaigns`
**Expected Request Body:** `CampaignFormData`
**Expected Response:** Campaign object
**Usage:** Create new campaign
**Location:** `components/CreateCampaign.tsx`

#### `POST /api/campaigns/:campaignId/join`
**Expected Response:** Success status
**Usage:** Join a campaign
**Location:** `components/CampaignDetail.tsx`

### Workspace APIs

#### `GET /api/workspace/:projectId/members`
**Expected Response:** `ProjectMember[]`
**Usage:** Get project members
**Location:** `components/workspace/ProjectMemberModal.tsx`

#### `POST /api/workspace/:projectId/members`
**Expected Request Body:** `{ email: string, role: string }`
**Expected Response:** `ProjectMember` object
**Usage:** Add member to project
**Location:** `components/workspace/ProjectMemberModal.tsx` (line 448)

#### `POST /api/workspace/:projectId/messages`
**Expected Request Body:** `{ recipientId: string, message: string }`
**Expected Response:** Message object
**Usage:** Send message to project member
**Location:** `components/workspace/ProjectMemberModal.tsx` (line 451)
**Note:** Comment indicates backend integration needed

#### `GET /api/workspace/:projectId/tasks`
**Expected Response:** `Task[]`
**Usage:** Get project tasks
**Location:** `components/ProjectDetail.tsx`

#### `POST /api/workspace/:projectId/tasks`
**Expected Request Body:** Task creation data
**Expected Response:** `Task` object
**Usage:** Create new task
**Location:** `components/workspace/TaskManager.tsx`

#### `GET /api/workspace/:projectId/milestones`
**Expected Response:** `Milestone[]`
**Usage:** Get project milestones
**Location:** `components/ProjectDetail.tsx`

### File Upload APIs

#### `POST /api/upload`
**Expected Request:** Multipart form data with file
**Expected Response:** `{ url: string, filename: string }`
**Usage:** Upload files (images, documents, etc.)
**Location:** 
- `components/CreateCampaign.tsx` (line 514-521)
- `components/workspace/VoiceChat.tsx` (line 543-545)
- `components/workspace/VideoRecorder.tsx`
- `components/workspace/LearningVault.tsx`

**Supported File Types:**
- Images (campaign assets, avatars)
- Documents (project files, deliverables)
- Video recordings
- Audio recordings

## Local Storage Usage

The frontend uses localStorage for client-side persistence. The following keys are expected:

### `userProfile`
**Type:** `UserProfile` (JSON stringified)
**Location:** `components/ProfileContext.tsx` (line 254, 264)
**Usage:** Persist user profile data
**Read:** On component mount
**Write:** When profile is saved

### `aspora-onboarding`
**Type:** `OnboardingState` (JSON stringified)
**Location:** `components/OnboardingContext.tsx` (line 36, 48)
**Usage:** Track onboarding progress and user type selection
**Structure:**
```typescript
{
  isFirstTime: boolean;
  userType: 'diaspora' | 'local' | null;
  completedSteps: string[];
  currentStep: string | null;
  showOnboarding: boolean;
}
```

### `aspora-theme`
**Type:** `'light' | 'dark' | 'system'` (string)
**Location:** `components/ThemeProvider.tsx` (line 28, 59)
**Usage:** Persist user's theme preference
**Default:** `'light'`

---

## Authentication & Session Management

### Current Implementation
- **Status:** Not fully implemented
- **Location:** `components/UserProfileDropdown.tsx` (line 52-59)
- **Logout:** Currently uses `window.location.reload()` with confirmation dialog

### Expected Authentication Flow

#### Login
- **Endpoint:** `POST /api/auth/login`
- **Expected Request Body:** `{ email: string, password: string }`
- **Expected Response:** `{ token: string, user: UserProfile, expiresAt: string }`
- **Storage:** Token should be stored (likely in localStorage or httpOnly cookie)

#### Logout
- **Endpoint:** `POST /api/auth/logout`
- **Expected Behavior:** Clear session/token, redirect to login
- **Current Implementation:** `window.location.reload()` (needs backend integration)

#### Token Refresh
- **Endpoint:** `POST /api/auth/refresh`
- **Expected Request:** Current refresh token
- **Expected Response:** New access token
- **Usage:** Automatic token refresh before expiration

#### Session Validation
- **Endpoint:** `GET /api/auth/validate`
- **Expected Response:** `{ valid: boolean, user?: UserProfile }`
- **Usage:** Validate current session on app load

### Authorization Headers
All authenticated API requests should include:
```
Authorization: Bearer <token>
```

---

## Real-time Features

### Expected WebSocket/SSE Connections

#### Live Feed Updates
- **Connection:** WebSocket or Server-Sent Events (SSE)
- **Endpoint:** `/ws/feed` or `/sse/feed`
- **Events:**
  - `feed_item_added` - New feed item created
  - `feed_item_updated` - Feed item updated (likes, comments)
  - `feed_item_pinned` - Admin pinned an item
- **Location:** `components/FeedService.tsx` (subscribe method)

#### Online Status
- **Connection:** WebSocket
- **Endpoint:** `/ws/presence`
- **Events:**
  - `user_online` - User came online
  - `user_offline` - User went offline
  - `typing` - User is typing (for messaging)
- **Location:** Multiple components check `isOnline` status

#### Workspace Collaboration
- **Connection:** WebSocket
- **Endpoint:** `/ws/workspace/:projectId`
- **Events:**
  - `member_joined` - New member added
  - `member_left` - Member removed
  - `task_updated` - Task status changed
  - `milestone_updated` - Milestone progress updated
  - `message_sent` - New message in workspace chat
- **Location:** `components/ProjectWorkspace.tsx`, `components/workspace/ProjectMemberModal.tsx`

#### Live Sessions
- **Connection:** WebSocket
- **Endpoint:** `/ws/sessions`
- **Events:**
  - `session_started` - Mentorship session started
  - `session_ended` - Session completed
  - `session_reminder` - Upcoming session reminder
- **Location:** `components/LiveSessionsWidget.tsx`, `components/SessionNotifications.tsx`

---

## Configuration & Environment Variables

### Expected Environment Variables

The frontend expects the following environment variables (via `import.meta.env` in Vite):

#### API Configuration
```bash
VITE_API_BASE_URL=https://api.example.com
VITE_API_VERSION=v1
VITE_WS_URL=wss://ws.example.com
```

#### Feature Flags
```bash
VITE_ENABLE_ANALYTICS=true
VITE_ENABLE_ERROR_TRACKING=true
VITE_ENABLE_PREVIEW_MODE=false
```

#### External Services
```bash
VITE_UPLOAD_SERVICE_URL=https://uploads.example.com
VITE_CDN_URL=https://cdn.example.com
VITE_IMAGE_SERVICE_URL=https://images.example.com
```

### Current Configuration Files

#### `vite.config.ts`
- **Path Alias:** `@` resolves to project root
- **Plugins:** React plugin enabled
- **No API proxy configured** (needs to be added for development)

#### `tailwind.config.js`
- **Content:** All `.tsx`, `.ts`, `.jsx`, `.js` files (excluding `node_modules`)
- **Theme:** Extended with CSS variable mappings
- **Colors:** Mapped to CSS variables from `globals.css`

#### `tsconfig.json`
- **Target:** ES2020
- **Module:** ESNext
- **JSX:** react-jsx
- **Strict:** Enabled
- **Excludes:** `node_modules`, `vite.config.ts`

## File Upload Requirements

### Supported Upload Types

#### Images
- **Use Cases:**
  - User avatars (`components/ProfilePage.tsx`)
  - Campaign assets (`components/CreateCampaign.tsx` line 514-521)
  - Project images
  - Feed item images
- **Expected Formats:** JPG, PNG, GIF, WebP
- **Max Size:** Not specified (should be configured)
- **Expected Response:** `{ url: string, thumbnailUrl?: string }`

#### Documents
- **Use Cases:**
  - Project files (`components/workspace/ForgeLab.tsx`)
  - Deliverables (`components/workspace/DeliverableSubmissions.tsx`)
  - Research papers (`components/workspace/ResearchTools.tsx`)
- **Expected Formats:** PDF, DOC, DOCX, TXT, MD
- **Expected Response:** `{ url: string, filename: string, size: number, type: string }`

#### Video Recordings
- **Use Cases:**
  - Session recordings (`components/workspace/VideoRecorder.tsx`)
  - Learning content (`components/workspace/LearningVault.tsx`)
- **Expected Formats:** MP4, WebM
- **Expected Response:** `{ url: string, thumbnailUrl: string, duration: number, size: number, status: 'processing' | 'ready' | 'failed' }`
- **Note:** Status should be polled or updated via WebSocket when processing completes

#### Audio Recordings
- **Use Cases:**
  - Voice messages (`components/workspace/VoiceChat.tsx` line 543-545)
  - Audio notes
- **Expected Formats:** MP3, WAV, OGG
- **Expected Response:** `{ url: string, duration: number, size: number }`

### Upload UI Components
- **File Input:** Hidden file input with custom button trigger
- **Progress Indicator:** Should show upload progress
- **Error Handling:** Display error messages for failed uploads
- **Preview:** Show preview for images before upload

---

## External Services & Integrations

### Image Hosting
- **Current:** Uses Unsplash placeholder URLs
- **Expected:** CDN or image hosting service
- **Format:** URLs should be absolute, support resizing via query params
- **Example:** `https://cdn.example.com/images/{id}?w=150&h=150&fit=crop`

### Social Media Integration
- **LinkedIn:** Profile links, sharing
- **Twitter/X:** Profile links, sharing
- **Email:** Contact links (`mailto:`)
- **Website:** External links
- **Location:** Multiple components use `socialLinks` object

### Third-party Libraries Used
- **Lucide React:** Icon library (v0.294.0)
- **Sonner:** Toast notifications (v1.3.1)
- **Radix UI:** Headless UI components (various versions)
- **Recharts:** Chart library (v2.15.2)
- **React Hook Form:** Form management (v7.55.0)
- **React Day Picker:** Date picker (v8.10.1)
- **Embla Carousel:** Carousel component (v8.6.0)

### Expected External APIs

#### Email Service
- **Purpose:** Send notifications, connection requests, invitations
- **Expected Endpoints:**
  - `POST /api/email/send` - Send email
  - `POST /api/email/verify` - Verify email address

#### Notification Service
- **Purpose:** Push notifications, in-app notifications
- **Expected Endpoints:**
  - `GET /api/notifications` - Get user notifications
  - `POST /api/notifications/:id/read` - Mark as read
  - `POST /api/notifications/preferences` - Update preferences

#### Analytics Service
- **Purpose:** Track user actions, feed interactions
- **Expected Events:**
  - Page views
  - Feed item interactions (like, comment, share)
  - Project actions (create, join, complete)
  - User actions (connect, message)

---

## Additional Data Structures

### Session (`Session`)
**Location:** `components/SessionCalendar.tsx`, `components/workspace/WorkspaceCalendar.tsx`

```typescript
interface Session {
  id: string;
  title: string;
  type: 'mentorship' | 'workshop' | 'meeting' | 'office-hours';
  startTime: Date;
  endTime: Date;
  mentorId: string;
  mentorName: string;
  menteeId?: string;
  menteeName?: string;
  status: 'scheduled' | 'in-progress' | 'completed' | 'cancelled';
  meetingLink?: string;
  notes?: string;
  recordingUrl?: string;
}
```

### Message (`Message`)
**Location:** `components/workspace/VoiceChat.tsx`, `components/MessagingPopover.tsx`

```typescript
interface Message {
  id: string;
  senderId: string;
  senderName: string;
  senderAvatar?: string;
  content: string;
  timestamp: Date;
  type: 'text' | 'image' | 'file' | 'audio' | 'video';
  attachments?: Array<{
    url: string;
    filename: string;
    type: string;
    size: number;
  }>;
  read: boolean;
  edited?: boolean;
}
```

### Learning Content (`LearningContent`)
**Location:** `components/workspace/LearningVault.tsx`

```typescript
interface LearningContent {
  id: string;
  title: string;
  description: string;
  type: 'video' | 'document' | 'link' | 'recording';
  url: string;
  thumbnail?: string;
  duration?: number; // for video/audio
  size?: number;
  tags: string[];
  uploadedBy: string;
  uploadedAt: Date;
  status?: 'processing' | 'ready' | 'failed';
}
```

### Recording (`Recording`)
**Location:** `components/workspace/VideoRecorder.tsx`, `components/workspace/LearningVault.tsx`

```typescript
interface Recording {
  id: string;
  title: string;
  description?: string;
  duration: number; // in seconds
  url: string;
  thumbnail?: string;
  timestamp: Date;
  type: 'screen' | 'webcam' | 'both';
  tags?: string[];
  size: number; // in bytes
  status: 'processing' | 'ready' | 'failed';
}
```

### Campaign (`Campaign`)
**Location:** `components/CampaignDetail.tsx`, `components/AlmaMater.tsx`

```typescript
interface Campaign {
  id: string;
  title: string;
  description: string;
  type: 'mentorship' | 'research' | 'education' | 'community';
  status: 'active' | 'upcoming' | 'completed';
  university: string;
  category: string;
  startDate: string;
  endDate: string;
  location: string;
  isRemote: boolean;
  participantGoal: number;
  currentParticipants: number;
  fundingGoal: number;
  currentFunding: number;
  tags: string[];
  createdBy: {
    id: string;
    name: string;
    avatar?: string;
  };
  image?: string;
  spotsRemaining?: number;
}
```

---

## Summary of Critical Expectations

### Must-Have Backend Features
1. **User Authentication & Authorization**
   - Login/logout endpoints
   - Token-based authentication
   - Session management

2. **RESTful API**
   - All CRUD operations for projects, opportunities, campaigns
   - User profile management
   - Network/connection management
   - Feed generation and management

3. **File Upload Service**
   - Support for images, documents, videos, audio
   - Progress tracking
   - Processing status for videos

4. **Real-time Communication**
   - WebSocket or SSE for live updates
   - Online status tracking
   - Workspace collaboration events

5. **Data Persistence**
   - All entities must be stored in database
   - Relationships between entities (projects, members, tasks, etc.)

### Current Mock Data Locations
- `components/FeedService.tsx` - Projects, opportunities, campaigns
- `components/MyNetwork.tsx` - Network users, connection requests
- `components/MentorshipWorkspace.tsx` - Mentees data
- `components/ProjectWorkspace.tsx` - Projects data
- `components/ProfileContext.tsx` - Default user profile

### Integration Points Ready for Backend
- Profile save/load (`ProfileContext.tsx`)
- Feed refresh (`FeedService.tsx`)
- Project workspace data (`ProjectDetail.tsx`)
- Connection requests (`MyNetwork.tsx`)
- File uploads (multiple components)
- Workspace messaging (`ProjectMemberModal.tsx`)

---

*End of document*


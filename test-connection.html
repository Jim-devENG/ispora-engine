<!doctype html>
<html>
  <head>
    <title>iSpora Connection Test</title>
  </head>
  <body>
    <h1>iSpora Backend Connection Test</h1>
    <div id="results"></div>

    <script>
      async function testConnection() {
        const results = document.getElementById('results');

        try {
          // Test backend health
          const healthResponse = await fetch('http://localhost:3001/health');
          const healthData = await healthResponse.json();
          results.innerHTML += '<p>‚úÖ Backend Health: ' + JSON.stringify(healthData) + '</p>';

          // Test feed endpoint
          const feedResponse = await fetch('http://localhost:3001/api/feed');
          const feedData = await feedResponse.json();
          results.innerHTML +=
            '<p>‚úÖ Feed API: ' + (feedData.success ? 'Working' : 'Failed') + '</p>';

          if (feedData.data && feedData.data.length > 0) {
            results.innerHTML += '<p>üìä Feed Items: ' + feedData.data.length + ' items loaded</p>';
          }
        } catch (error) {
          results.innerHTML += '<p>‚ùå Error: ' + error.message + '</p>';
        }
      }

      testConnection();
    </script>
  </body>
</html>
